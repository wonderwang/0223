<?php
/**
 * Magegiant
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Magegiant.com license that is
 * available through the world-wide-web at this URL:
 * https://magegiant.com/license-agreement/
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Magegiant
 * @package     Magegiant_GiantPoints
 * @copyright   Copyright (c) 2014 Magegiant (https://magegiant.com/)
 * @license     https://magegiant.com/license-agreement/
 */
?>
<?php $message = $this->getRewardReviewProduct(); ?>
<?php if ($message): ?>
    <?php echo $this->getEarningMessage($message) ?>
<?php endif; ?>
<?php $reviewWords = Mage::helper('giantpointsbhv/config')->getReviewConfig('review_words'); ?>
<?php if ($reviewWords): ?>
    <script>
        //<![CDATA[
        Validation.add('minimum-review-word', 'You should write an review at least <?php echo $reviewWords?> words', function (v) {
            var minimum_length =<?php echo $reviewWords?$reviewWords:'0'?>;
            var curren_length = v.split(' ').length;
            return  minimum_length <= curren_length;
        });
        document.observe('dom:loaded', function () {
            if ($('review_field'))
                $('review_field').addClassName('minimum-review-word');
        })
        //]]>
    </script>

<?php endif; ?>